<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check-In List</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        table { width: 100%; margin-top: 20px; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        .checkout { color: red; cursor: pointer; }
        .checked-out { color: grey; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Check-In List</h1>
        <table id="checkInList">
            <thead>
                <tr>
                    <th>Vorname</th>
                    <th>Nachname</th>
                    <th>Email Adresse</th>
                    <th>Brother Kontakt</th>
                    <th>Check-In Time</th>
                    <th>Check Out</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>

    <script>
        function loadCheckInData() {
            const checkInData = JSON.parse(localStorage.getItem('checkInData')) || [];
            const table = document.getElementById('checkInList').getElementsByTagName('tbody')[0];
            table.innerHTML = '';

            checkInData.forEach((data, index) => {
                const newRow = table.insertRow();
                newRow.insertCell(0).innerText = data.vorname;
                newRow.insertCell(1).innerText = data.nachname;
                newRow.insertCell(2).innerText = data.email;
                newRow.insertCell(3).innerText = data.kontakt;
                newRow.insertCell(4).innerText = data.checkInTime;
                const checkOutCell = newRow.insertCell(5);
                const checkOutButton = document.createElement('button');
                checkOutButton.innerText = data.checkedOut ? 'Checked Out' : 'Check Out';
                checkOutButton.classList.add(data.checkedOut ? 'checked-out' : 'checkout');
                checkOutButton.onclick = function() {
                    if (!data.checkedOut) {
                        data.checkedOut = true;
                        localStorage.setItem('checkInData', JSON.stringify(checkInData));
                        loadCheckInData();
                    }
                };
                checkOutCell.appendChild(checkOutButton);
            });
        }

        window.onload = function() {
            const username = prompt('Username:');
            const password = prompt('Password:');
            if (username === 'Zentrale1' && password === '9988') {
                loadCheckInData();
            } else {
                alert('Invalid login credentials');
                window.location.href = 'index.html';
            }
        };
    </script>
</body>
</html>